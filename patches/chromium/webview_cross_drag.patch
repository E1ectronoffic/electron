From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Anonymous <anonymous@electronjs.org>
Date: Thu, 20 Sep 2018 17:47:04 -0700
Subject: webview_cross_drag.patch

This allows dragging and dropping between <webview>s.

Originally landed in https://github.com/electron/libchromiumcontent/pull/267

diff --git a/content/browser/web_contents/web_contents_view_aura.cc b/content/browser/web_contents/web_contents_view_aura.cc
index 038354313c62aa5832b0047284219cb15562deaf..9206a0978a69457da3cbd35f162b321dcdc2f185 100644
--- a/content/browser/web_contents/web_contents_view_aura.cc
+++ b/content/browser/web_contents/web_contents_view_aura.cc
@@ -888,8 +888,7 @@ bool WebContentsViewAura::IsValidDragTarget(
   // browser-side checks only have local tree fragment (potentially with
   // multiple origins) granularity at best, but a drag operation eventually
   // targets one single frame in that local tree fragment.
-  return target_rwh->GetSiteInstanceGroup()->GetId() ==
-         drag_start_->site_instance_group_id;
+  return true;
 }
 
 ////////////////////////////////////////////////////////////////////////////////
diff --git a/content/browser/web_contents/web_drag_dest_mac.mm b/content/browser/web_contents/web_drag_dest_mac.mm
index 9c49e73d58ecf5cd6fce0582e2a767d3f1ac43d9..07ca39e09bb3413bdb95c7c535b6612d18861799 100644
--- a/content/browser/web_contents/web_drag_dest_mac.mm
+++ b/content/browser/web_contents/web_drag_dest_mac.mm
@@ -427,9 +427,7 @@ - (void)resetDragStartTrackers {
 }
 
 - (bool)isValidDragTarget:(content::RenderWidgetHostImpl*)targetRWH {
-  return targetRWH->GetProcess()->GetID() == _dragStartProcessID ||
-         GetRenderViewHostID(_webContents->GetRenderViewHost()) !=
-             _dragStartViewID;
+  return YES;
 }
 
 @end
