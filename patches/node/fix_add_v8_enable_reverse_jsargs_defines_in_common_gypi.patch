From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Samuel Attard <samuel.r.attard@gmail.com>
Date: Thu, 17 Sep 2020 14:18:30 -0700
Subject: fix: add v8_enable_reverse_jsargs defines in common.gypi

This can be removed once node upgrades V8 and inevitably has to do this exact same thing.  Also hi node people if you are looking at this.

diff --git a/common.gypi b/common.gypi
index 3fd1d4ddddc109dfd87f4ba6115948f1c31b1261..0daec1064ecc5910dc86a394126c58ecf3783cff 100644
--- a/common.gypi
+++ b/common.gypi
@@ -82,6 +82,8 @@
     # TODO(refack): make v8-perfetto happen
     'v8_use_perfetto': 0,
 
+    'v8_enable_reverse_jsargs%': 1,
+
     ##### end V8 defaults #####
 
     # When building native modules using 'npm install' with the system npm,
@@ -128,6 +130,9 @@
         'obj_dir%': '<(PRODUCT_DIR)/obj.target',
         'v8_base': '<(PRODUCT_DIR)/libv8_snapshot.a',
       }],
+      ['v8_enable_reverse_jsargs == 1', {
+        'defines': ['V8_REVERSE_JSARGS'],
+      }],
       # V8 pointer compression only supports 64bit architectures.
       ['target_arch in "arm ia32 mips mipsel ppc"', {
         'v8_enable_pointer_compression': 0,
